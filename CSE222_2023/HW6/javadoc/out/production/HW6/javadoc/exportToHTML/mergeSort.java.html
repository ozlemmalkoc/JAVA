<html>
<head>
<title>mergeSort.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
mergeSort.java</font>
</center></td></tr></table>
<pre><span class="s0">public class </span><span class="s1">mergeSort {</span>

    <span class="s0">private </span><span class="s1">myMap originalMap</span><span class="s0">;</span>
    <span class="s0">private </span><span class="s1">myMap sortedMap</span><span class="s0">;</span>
    <span class="s0">private </span><span class="s1">String[] aux</span><span class="s0">;</span>
  
    <span class="s0">public </span><span class="s1">mergeSort(myMap originalMap) {</span>
      <span class="s0">this</span><span class="s1">.originalMap = originalMap</span><span class="s0">;</span>
      <span class="s1">sortedMap = </span><span class="s0">new </span><span class="s1">myMap(originalMap)</span><span class="s0">;</span>
      <span class="s1">aux = </span><span class="s0">new </span><span class="s1">String[originalMap.getMapSize()]</span><span class="s0">;</span>
      <span class="s0">int </span><span class="s1">index = </span><span class="s2">0</span><span class="s0">;</span>
      <span class="s0">for </span><span class="s1">(String key: originalMap.getMap().keySet()) {</span>
        <span class="s1">aux[index] = key</span><span class="s0">;</span>
        <span class="s1">index++</span><span class="s0">;</span>
      <span class="s1">}</span>
  
    <span class="s1">}</span>
  
    <span class="s0">public </span><span class="s1">myMap getOriginalMap() {</span>
      <span class="s0">return </span><span class="s1">originalMap</span><span class="s0">;</span>
    <span class="s1">}</span>
  
    <span class="s0">public void </span><span class="s1">setOriginalMap(myMap originalMap) {</span>
      <span class="s0">this</span><span class="s1">.originalMap = originalMap</span><span class="s0">;</span>
    <span class="s1">}</span>
  
    <span class="s0">public </span><span class="s1">myMap getSortedMap() {</span>
      <span class="s0">return </span><span class="s1">sortedMap</span><span class="s0">;</span>
    <span class="s1">}</span>
  
    <span class="s0">public void </span><span class="s1">setSortedMap(myMap sortedMap) {</span>
      <span class="s0">this</span><span class="s1">.sortedMap = sortedMap</span><span class="s0">;</span>
    <span class="s1">}</span>
  
    <span class="s0">public </span><span class="s1">String[] getAux() {</span>
      <span class="s0">return </span><span class="s1">aux</span><span class="s0">;</span>
    <span class="s1">}</span>
  
    <span class="s0">public void </span><span class="s1">setAux(String[] aux) {</span>
      <span class="s0">this</span><span class="s1">.aux = aux</span><span class="s0">;</span>
    <span class="s1">}</span>
    <span class="s0">public void </span><span class="s1">sort() {</span>
      <span class="s1">String ch</span><span class="s0">;</span>
      <span class="s1">mergeSortFunc(</span><span class="s2">0</span><span class="s0">, </span><span class="s1">aux.length - </span><span class="s2">1</span><span class="s1">)</span><span class="s0">;</span>
      <span class="s0">for </span><span class="s1">(</span><span class="s0">int </span><span class="s1">i = </span><span class="s2">0</span><span class="s0">; </span><span class="s1">i &lt; aux.length</span><span class="s0">; </span><span class="s1">i++) {</span>
        <span class="s1">ch = String.valueOf(aux[i])</span><span class="s0">;</span>
        <span class="s0">if </span><span class="s1">(!sortedMap.getMap().containsKey(ch)) {</span>
          <span class="s1">sortedMap.getMap().put(ch</span><span class="s0">, </span><span class="s1">originalMap.getMap().get(ch))</span><span class="s0">;</span>
  
        <span class="s1">}</span>
  
      <span class="s1">}</span>
  
    <span class="s1">}</span>
  
    <span class="s0">public void </span><span class="s1">mergeSortFunc(</span><span class="s0">int </span><span class="s1">first</span><span class="s0">, int </span><span class="s1">last) {</span>
      <span class="s0">if </span><span class="s1">(first &lt; last) {</span>
        <span class="s0">int </span><span class="s1">midIndex = (first + last) / </span><span class="s2">2</span><span class="s0">;</span>
  
        <span class="s1">mergeSortFunc(first</span><span class="s0">, </span><span class="s1">midIndex)</span><span class="s0">;</span>
        <span class="s1">mergeSortFunc(midIndex + </span><span class="s2">1</span><span class="s0">, </span><span class="s1">last)</span><span class="s0">;</span>
  
        <span class="s1">merge(first</span><span class="s0">, </span><span class="s1">midIndex</span><span class="s0">, </span><span class="s1">last)</span><span class="s0">;</span>
  
      <span class="s1">}</span>
  
    <span class="s1">}</span>
    <span class="s0">public void </span><span class="s1">merge(</span><span class="s0">int </span><span class="s1">first</span><span class="s0">, int </span><span class="s1">midIndex</span><span class="s0">, int </span><span class="s1">last) {</span>
      <span class="s1">String[] leftHalf = </span><span class="s0">new </span><span class="s1">String[midIndex - first + </span><span class="s2">1</span><span class="s1">]</span><span class="s0">;</span>
      <span class="s1">String[] rightHalf = </span><span class="s0">new </span><span class="s1">String[last - midIndex]</span><span class="s0">;</span>
  
      <span class="s0">for </span><span class="s1">(</span><span class="s0">int </span><span class="s1">i = </span><span class="s2">0</span><span class="s0">; </span><span class="s1">i &lt; midIndex - first + </span><span class="s2">1</span><span class="s0">; </span><span class="s1">i++) {</span>
        <span class="s1">leftHalf[i] = aux[first + i]</span><span class="s0">;</span>
      <span class="s1">}</span>
      <span class="s0">for </span><span class="s1">(</span><span class="s0">int </span><span class="s1">i = </span><span class="s2">0</span><span class="s0">; </span><span class="s1">i &lt; last - midIndex</span><span class="s0">; </span><span class="s1">i++) {</span>
        <span class="s1">rightHalf[i] = aux[midIndex + </span><span class="s2">1 </span><span class="s1">+ i]</span><span class="s0">;</span>
      <span class="s1">}</span>
  
      <span class="s0">int </span><span class="s1">i = </span><span class="s2">0</span><span class="s0">, </span><span class="s1">j = </span><span class="s2">0</span><span class="s0">, </span><span class="s1">k = first</span><span class="s0">;</span>
  
      <span class="s0">while </span><span class="s1">(i &lt; midIndex - first + </span><span class="s2">1 </span><span class="s1">&amp;&amp; j &lt; last - midIndex) {</span>
        <span class="s0">if </span><span class="s1">(originalMap.getMap().get(leftHalf[i]).getCount() &lt;= originalMap.getMap().get(rightHalf[j]).getCount()) {</span>
          <span class="s1">aux[k] = leftHalf[i]</span><span class="s0">;</span>
          <span class="s1">i++</span><span class="s0">;</span>
        <span class="s1">} </span><span class="s0">else </span><span class="s1">{</span>
          <span class="s1">aux[k] = rightHalf[j]</span><span class="s0">;</span>
          <span class="s1">j++</span><span class="s0">;</span>
        <span class="s1">}</span>
        <span class="s1">k++</span><span class="s0">;</span>
      <span class="s1">}</span>
      <span class="s0">while </span><span class="s1">(i &lt; midIndex - first + </span><span class="s2">1</span><span class="s1">) {</span>
        <span class="s1">aux[k] = leftHalf[i]</span><span class="s0">;</span>
        <span class="s1">i++</span><span class="s0">;</span>
        <span class="s1">k++</span><span class="s0">;</span>
      <span class="s1">}</span>
  
      <span class="s0">while </span><span class="s1">(j &lt; last - midIndex) {</span>
        <span class="s1">aux[k] = rightHalf[j]</span><span class="s0">;</span>
        <span class="s1">j++</span><span class="s0">;</span>
        <span class="s1">k++</span><span class="s0">;</span>
      <span class="s1">}</span>
    <span class="s1">}</span>
  
  <span class="s1">}</span></pre>
</body>
</html>